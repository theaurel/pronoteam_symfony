{# app/Resources/views/base.html.twig #}
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Watch My Desk{% endblock %}</title>
        {% block stylesheets %}
            <!-- Latest compiled and minified CSS -->
            <link rel="stylesheet" href="/bundles/bootstrap/css/bootstrap.min.css">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
        {% endblock %}
    </head>
    <body>
        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
            Connecté en tant que {{ app.user.username }}
            -
            <a href="{{ path('fos_user_security_logout') }}">Déconnexion</a>
        {% else %}
            <a href="{{ path('fos_user_security_login') }}">Connexion</a>
        {% endif %}
        {% block body %}{% endblock %}

        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body text-center"><i class="fa fa-spinner fa-5x fa-pulse"></i></div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="myLargeModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body text-center"><i class="fa fa-spinner fa-5x fa-pulse"></i></div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="mySmallModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-body text-center"><i class="fa fa-spinner fa-5x fa-pulse"></i></div>
                </div>
            </div>
        </div>

        {% block javascripts %}
            <!-- Latest compiled and minified JavaScript -->
            <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
            <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
            <script type="text/javascript">
                $(function(){
                    $('#myModal').on('hidden.bs.modal', function () {
                        $('#myModal').removeData('bs.modal').find(".modal-content").html(
                                '<div class="modal-body text-center">' +
                                '<i class="fa fa-spinner fa-5x fa-pulse"></i>' +
                                '</div>'
                        );
                    });
                    $('#myLargeModal').on('hidden.bs.modal', function () {
                        $('#myLargeModal').removeData('bs.modal').find(".modal-content").html(
                                '<div class="modal-body text-center">' +
                                '<i class="fa fa-spinner fa-5x fa-pulse"></i>' +
                                '</div>'
                        );
                    });
                    $('#mySmallModal').on('hidden.bs.modal', function () {
                        $('#mySmallModal').removeData('bs.modal').find(".modal-content").html(
                                '<div class="modal-body text-center">' +
                                '<i class="fa fa-spinner fa-5x fa-pulse"></i>' +
                                '</div>'
                        );
                    });
                });
            </script>
        {% endblock %}
    </body>
</html>